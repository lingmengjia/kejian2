<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style type="text/css" media="screen">
		.box{
			width: 100px;height:100px;background: red;position: absolute;left:0px;top:0px;
		}
	</style>
	
</head>
<body>
	<div class="box">
		
	</div>
	<!-- <div style="width: 1px;height:200px;background: black;position: absolute;left:600px;top:0px;">
		
	</div> -->
	<script type="text/javascript">
		var oDiv=document.getElementsByTagName('div')[0];
		var speed=0;
		var timer=null;
		oDiv.onclick=function(){
			/*clearInterval(timer);
			timer=setInterval(function(){
				speed=Math.ceil((1000-oDiv.offsetLeft)/10);
				speed=Math.floor((600-oDiv.offsetLeft)/10);//负值
				//正值速度接近0；但不等于0，而是一个小数，小数和最小的px单位冲突。变成整数。
				//停止条件
				if(oDiv.offsetLeft==1000){
					clearInterval(timer);
				}else{
					oDiv.style.left=oDiv.offsetLeft+speed+'px';
				}
			
				if(oDiv.offsetLeft==600){
					clearInterval(timer);
				}else{
					oDiv.style.left=oDiv.offsetLeft+speed+'px';
				}

				
				
			},30);*/

			//buffer(oDiv,'width',1200);
			
		}
		function getstyle(obj,attr){//获取元素的样式  obj:元素 attr：属性
			if(obj.currentStyle){
				return obj.currentStyle[attr];//ie8
			}else{
				return getComputedStyle(obj)[attr];//标准
			}
		}
		function buffer(obj,attr,target){
			clearInterval(timer);
			var cur=null;
			timer=setInterval(function(){
				//求速度
				cur=parseInt(getstyle(obj,attr));
				speed=(target-cur)/5;
				speed=speed>0?Math.ceil(speed):Math.floor(speed);
				//运动以及停止
				if(cur==target){
					clearInterval(timer);
				}else{
					obj.style[attr]=(cur+speed)+'px';
				}
				console.log(speed,obj.offsetLeft);
			},30);
		}
	</script>
</body>
</html>